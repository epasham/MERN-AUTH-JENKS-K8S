var TYPE = require('../../tokenizer').TYPE;
<<<<<<< HEAD
var CHARCODE = require('../../tokenizer').CHARCODE;

var IDENT = TYPE.Ident;
var ASTERISK = CHARCODE.Asterisk;
var VERTICALLINE = CHARCODE.VerticalLine;

function eatIdentifierOrAsterisk() {
    if (this.scanner.tokenType !== IDENT &&
        this.scanner.isDelim(ASTERISK) === false) {
        this.error('Identifier or asterisk is expected');
=======

var IDENTIFIER = TYPE.Identifier;
var ASTERISK = TYPE.Asterisk;
var VERTICALLINE = TYPE.VerticalLine;

function eatIdentifierOrAsterisk() {
    if (this.scanner.tokenType !== IDENTIFIER &&
        this.scanner.tokenType !== ASTERISK) {
        this.scanner.error('Identifier or asterisk is expected');
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a
    }

    this.scanner.next();
}

// ident
// ident|ident
// ident|*
// *
// *|ident
// *|*
// |ident
// |*
module.exports = {
    name: 'TypeSelector',
    structure: {
        name: String
    },
    parse: function() {
        var start = this.scanner.tokenStart;

<<<<<<< HEAD
        if (this.scanner.isDelim(VERTICALLINE)) {
=======
        if (this.scanner.tokenType === VERTICALLINE) {
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a
            this.scanner.next();
            eatIdentifierOrAsterisk.call(this);
        } else {
            eatIdentifierOrAsterisk.call(this);

<<<<<<< HEAD
            if (this.scanner.isDelim(VERTICALLINE)) {
=======
            if (this.scanner.tokenType === VERTICALLINE) {
>>>>>>> e547b3e77583be3c8de92b6c78317e2fb285a75a
                this.scanner.next();
                eatIdentifierOrAsterisk.call(this);
            }
        }

        return {
            type: 'TypeSelector',
            loc: this.getLocation(start, this.scanner.tokenStart),
            name: this.scanner.substrToCursor(start)
        };
    },
    generate: function(node) {
        this.chunk(node.name);
    }
};
